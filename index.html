<!DOCTYPE html>
<html lang="en" style="font-family: aptos;">
<head>
  <meta charset="UTF-8">
  <title>4cast Weather</title>
  
  <!--<link href="style.css" rel="stylesheet"> <!--for external css file-->

  <!-- Style definitions below are in hierarchial order (Specificity)
    - Specificity is not math — it's a priority triad (A,B,C).
    - Compare each level: #ID (A) > .Class (B) > <Element> (C).
    - Example: #header .text p = (1,1,1) beats .text p = (0,1,1).
    -->

  <style>
    @font-face {
      font-family: aptos;
      src: url(/4cast/assets/aptos.ttf) format('truetype');
    }
    @font-face {
      font-family: aptosBold;
      src: url(/4cast/assets/aptosBold.ttf) format('truetype');
    }
    


    #header { 
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index:100;
      font-size: 64px;
      font-family: aptosBold;
      background-color: cornflowerblue;
      padding: 25px 10px 10px 15px;
      box-shadow: 1px 2px 5px rgba(0,0,0,0.1);
      height: 60px;
      display:flex;
    }

    #temp { 
      font-size: 48px; 
      font-weight: bold; 
    }

    .stack {
     display: flex;
     flex-direction: column;
     gap: 1.5rem;
     padding: 1rem;
     padding-top: 120px;
    }

    .sml { 
      font-size: 14px; 
      color: #555; 
    }

    body {
      margin: 0px;
    }
    /*
    add below as needed...

    .med {
    }
    
    .lrg {
    }

    
    h1 {
    }
    
    h2 {
    }
    
    p {
    }
    */
  </style>
</head>

<body>
  
  <div id="stack">
    <div id="header">4cast
      <br>Noarlunga</div>
    <h2>Current Temperature</h2>
    <div id="temp">Loading...</div>
    <div id="updated" class="small"></div>
  </div> <!--stack end-->

<script>
  async function loadTemp() {
    try {
      const res = await fetch("data/currentObs.json?t=" + new Date().getTime());
      const data = await res.json();

      if (!data.air_temperature) {
        document.getElementById("temp").textContent = "No data";
        return;
      }

      document.getElementById("temp").textContent =
        data.air_temperature.toFixed(1) + "°C";

        
      document.getElementById("updated").textContent =
        "Updated: " + new Date(data.observed_at).toLocaleString();
    }
    catch (e) {
      document.getElementById("temp").textContent = "Error loading data";
    }
  }

  loadTemp();
</script>
</body>
</html>
